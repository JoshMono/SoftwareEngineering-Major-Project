{% extends 'majorApp/base.html' %}
{% load static %}


{% block title %}Test_Page{% endblock %}

{% block content %}

<h2>Select a Text File</h2>
<form method="get">
    <label for="file_search">Search for a file:</label><br>
    <input type="text" id="file_search" name="file_search" placeholder="Search files..."><br><br>
 
    <label for="selected_file">Choose a file:</label><br>
    <select id="selected_file" name="selected_file">
        {% for file in files %}
        <option value="{{ file }}">{{ file }}</option>
        {% endfor %}
    </select><br><br>
 
    <button type="submit" name="action" value="search">search</button>
</form>


<h1>Create a Text File via Shell Script</h1>
 
<form method="post">
    {% csrf_token %}
    <label for="folder">Folder Name:</label><br>
    <input type="text" id="folder" name="folder" required><br><br>
 
    <label for="filename">File Name:</label><br>
    <input type="text" id="filename" name="filename" required><br><br>
 
    <label for="content">File Content:</label><br>
    <textarea id="content" name="content" rows="5" cols="40" required></textarea><br><br>
 
    <button type="submit" name="action" value="create">Create File</button>
</form>
 
    {% if success %}
<p style="color: green;">File created successfully!</p>
    {% endif %}
 
    {% if error %}
<p style="color: red;">Error: {{ error }}</p>
    {% endif %}

{% endblock %}